# Наборы Опций (Options Sets)

## Введение

"Наборы Опций" (Options Sets, OS) — это концепция использования специализированных "технических" таблиц в базе данных для хранения предопределенных наборов значений, которые часто используются в выпадающих списках, для отображения статусов, категорий и других подобных атрибутов сущностей в приложении.

Эти таблицы помогают централизованно управлять такими опциями, обеспечивают консистентность данных и упрощают добавление дополнительных атрибутов к опциям (например, цветов, иконок и т.д.) без изменения основной схемы данных сущностей.

## Соглашение об именовании

Для таблиц, представляющих наборы опций, рекомендуется использовать суффикс `_OS` в названии таблицы в базе данных (например, `project_status_os`) и соответствующее имя модели в Prisma (например, `ProjectStatusOS`).

## Пример: Статусы Проекта (`ProjectStatusOS`)

Для управления статусами проектов создается таблица `project_status_os`.

### Структура таблицы/модели Prisma

```prisma
model ProjectStatusOS {
  id              Int      @id @default(autoincrement())
  name            String   @unique // Наименование статуса
  textColor       String   // Цвет текста для отображения (hex-код)
  backgroundColor String   // Цвет фона для отображения (hex-код)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}
```

### Начальные данные (Seed Data)

Таблица наполняется начальными значениями через seed-скрипт Prisma:

- Новый (текст: приглушенный синий, фон: очень светлый синий)
- В работе (текст: приглушенный коричневый, фон: очень светлый бежевый)
- На паузе (текст: приглушенный серый, фон: очень светлый серый)
- Завершен (текст: приглушенный изумрудный, фон: очень светлый изумрудный)
- Отклонен (текст: приглушенный бордовый, фон: очень светлый красный)

### Использование

Данные из таблицы `ProjectStatusOS` используются для:

1.  **Заполнения выпадающих списков**: При создании или редактировании проекта, пользователь выбирает статус из списка, полученного из этой таблицы.
2.  **Отображения статусов в UI**: На карточках проектов, в деталях проекта и в списках статусы отображаются с соответствующими цветами текста и фона, определенными в таблице.

### Преимущества

- **Централизованное управление**: Легко добавлять, изменять или удалять статусы и их атрибуты в одном месте.
- **Консистентность**: Гарантирует, что во всем приложении используются одни и те же значения статусов.
- **Расширяемость**: Можно легко добавить новые атрибуты к статусам (например, иконки, порядок сортировки) без изменения основной модели `Project`.
- **Производительность**: Для часто запрашиваемых, относительно статичных данных это может быть эффективнее, чем использование enum'ов на уровне приложения, если опций много или они требуют дополнительных атрибутов из БД.

## Дальнейшее применение

Этот подход может быть распространен на другие сущности, требующие наборов опций, например:

- Статусы Заказов (`OrderStatusOS`)
- Типы Задач (`TaskTypeOS`)
- Приоритеты (`PriorityOS`)

Это обеспечивает единый и последовательный способ управления такими данными в приложении.
