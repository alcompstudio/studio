# Наборы Опций (Options Sets)

## Введение

"Наборы Опций" (Options Sets, OS) — это концепция использования специализированных "технических" таблиц в базе данных для хранения предопределенных наборов значений, которые часто используются в выпадающих списках, для отображения статусов, категорий и других подобных атрибутов сущностей в приложении.

Эти таблицы помогают централизованно управлять такими опциями, обеспечивают консистентность данных и упрощают добавление дополнительных атрибутов к опциям (например, цветов, иконок и т.д.) без изменения основной схемы данных сущностей.

## Соглашение об именовании

Для таблиц, представляющих наборы опций, рекомендуется использовать суффикс `_OS` в названии таблицы в базе данных (например, `project_status_os`) и соответствующее имя модели в Prisma (например, `ProjectStatusOS`).

## Пример: Статусы Проекта (`ProjectStatusOS`)

Для управления статусами проектов создается таблица `project_status_os`.

### Структура таблицы/модели Prisma

```prisma
model ProjectStatusOS {
  id              Int      @id @default(autoincrement())
  name            String   @unique // Наименование статуса
  textColor       String   // Цвет текста для отображения (hex-код)
  backgroundColor String   // Цвет фона для отображения (hex-код)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}
```

### Начальные данные (Seed Data)

Таблица наполняется начальными значениями со следующими атрибутами:

| Название | Цвет текста (text_color) | Цвет фона (background_color) |
|-----------------|---------------------------|-----------------------------|
| Новый | #13a1e7 | #c0e6f8 |
| В работе | #e4c500 | #f8f0bf |
| На паузе | #c1c1c1 | #eeeeee |
| Завершен | #4ad286 | #d2f4e1 |
| Отменен | #e36262 | #f8d8d8 |

### Использование

Данные из таблицы `ProjectStatusOS` используются для:

1.  **Заполнения выпадающих списков**: При создании или редактировании проекта, пользователь выбирает статус из списка, полученного из этой таблицы.
2.  **Отображения статусов в UI**: На карточках проектов, в деталях проекта и в списках статусы отображаются с соответствующими цветами текста и фона, определенными в таблице.

### Преимущества

- **Централизованное управление**: Легко добавлять, изменять или удалять статусы и их атрибуты в одном месте.
- **Консистентность**: Гарантирует, что во всем приложении используются одни и те же значения статусов.
- **Расширяемость**: Можно легко добавить новые атрибуты к статусам (например, иконки, порядок сортировки) без изменения основной модели `Project`.
- **Производительность**: Для часто запрашиваемых, относительно статичных данных это может быть эффективнее, чем использование enum'ов на уровне приложения, если опций много или они требуют дополнительных атрибутов из БД.

## Статусы Заказа (`OrderStatusOS`)

Для управления статусами заказов создается таблица `order_status_os` с аналогичной структурой.

### Структура таблицы

```prisma
model OrderStatusOS {
  id              Int      @id @default(autoincrement())
  name            String   @unique // Наименование статуса
  textColor       String   // Цвет текста для отображения (hex-код)
  backgroundColor String   // Цвет фона для отображения (hex-код)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}
```

### Начальные данные (Seed Data)

Таблица наполняется следующими значениями:

| Название | Цвет текста (text_color) | Цвет фона (background_color) |
|-----------------|---------------------------|-----------------------------|
| Новый | #13a1e7 | #c0e6f8 |
| Сбор ставок | #e4c500 | #f8f0bf |
| На паузе | #c1c1c1 | #eeeeee |
| Сбор завершен | #4ad286 | #d2f4e1 |
| Отменен | #e36262 | #f8d8d8 |

## Дальнейшее применение

Этот подход может быть распространен на другие сущности, требующие наборов опций, например:

- Типы Задач (`TaskTypeOS`)
- Приоритеты (`PriorityOS`)

Это обеспечивает единый и последовательный способ управления такими данными в приложении.
