# **App Name**: TaskVerse

## Core Features:

- Dashboard Overview: Clear dashboard for заказчики and исполнители to view projects, tasks, and financial status.
- Task Management: Task creation and management interface for заказчики, including этап and option definitions. исполнители submit ставки with alternate prices. заказчики can create a рабочее задание and add рабочие позиции to it, connecting исполнителs.
- User Roles and Permissions: Basic user authentication and role-based access control (RBAC) for заказчики, исполнители, администраторы, and модераторы.

## Style Guidelines:

- Primary color: Muted purple (#A08ABF) for the overall theme.
- Secondary color: White (#FFFFFF) for backgrounds to maintain a clean look.
- Accent color: Teal (#4DB6AC) for interactive elements and highlights.
- Three-panel layout with fixed left sidebar for navigation, central content area, and right sidebar for communications.
- Use simple and consistent icons for navigation and actions.
- Subtle transitions and animations for a smooth user experience.

## Original User Request:
Нужно создать веб-приложение. Фриланс-платформа для размещения Заказов заказчиками и добавления Ставок-предложений Исполнителями с функцией ведения Проектов и Задач, финансов и взаиморасчетов. Должен быть создан максимально рабочий полнофункциональный вариант с учетом всех пожеланий, фуллстэк разработки (фронтэнд и бекэнд с подключенной БД).


Структура и логика.

Есть такая первичная структура "сущностей" (по уровням подчинения-связи данных):

1. Заказчики
1.1 Проекты
1.1.1 Заказы
1.1.1.1 Этапы
1.1.1.1.1 Опции
1.1.1.1.2 Ставки-предложения
1.1.1.2 Рабочие задания
1.1.1.2.1 Рабочие Этапы
1.1.1.3 Рабочие Позиции
1.1.1.3.1 Рабочие Этапы Позиции
1.1.1.3.1.1 Рабочие Опции Этапа Позиции
2. Исполнители
3. Суперадминистраторы площадки

Также могут быть отдельно Справочники данных, например, Тип проекта (Веб-Разработка, Копирайтинг, Перевод, СЕО-продвижение и т.п.), Категория Заказа (тут тоже может быть Разработка сайта, Разработка веб-приложения, Разработка мобильного приложения, СЕО-копирайтинг, рерайт, перевод автоматический и т.п. - что-то придумать).

Для начала во всех сущностях продумать Наименование (поле ввода), Описание (богатый текстовый редактор), поля Статусов (выпадающие списки). Ну и возможные доп. поля Типов, Разделов, Категорий.

Первичная Логика взаимодействия и работы такая:

Пользователь выбирает нужную роль при регистрации (Заказчик или Исполнитель), после чего попадает в свой профиль. 
Далее, если Заказчик: создает Проект, создает Заказ в проекте. Заказ - это основная сущность, которую могут видеть Исполнители для выбора подходящего заказа. В Заказе может создать один или более Этапов его выполнения. Например, если брать Заказ на наполнение Интернет-магазина, то Заказчик может создать 2 Этапа, которые будут распределены в работе между 2-мя отдельными пользователями-Исполнителями. 1 Этап - Копирайтинг текста описания (выполняют одни Исполнители). 2 Этап - Публикация текста и заполнение данных админки интернет-магазина - карточки товара (выполняют другие Исполнители).
Заполняются Заказчиком Опции по каждому отдельному Этапу. Это т.н. "отчетно-финансовые" / "конечные" элементы, которые уточняют технические особенности работы (Этапа). Например, в Этапе 1 Копирайтинг можно добавить Опцию 1 - Количество символов текста, Опцию 2 - Уникальность текста по сервису Текст.ру, Опцию 3 - Список ключевых слов для текста. И т.п.
Этапы, Опции - Заказчик формирует/придумывает для себя сам. Кроме того, можно в Опцию встроить некий калькулятор цены. То есть, Например, Заказчик указывает цену Опции 1 (количество символов), которая рассчитывается по следующему принципу: План символов - 2500, Цена за 1000 символов 2 доллара (выводить возможность калькуляции, т.е. чтобы можно было ввести данные 2500 / 1000, а автоматом рассчиывалась цена за единицу, т.е. 2500/1000 = 2,5 доллара/символ). И также подсчитывалась общая сумма Опции (2500/1000*2 = 5 долл.). Как-то придумать удобный интерфейс.
И выводить подсчет в каждый этап и далее - в Заказ, Проект - чтобы видеть итоговую стоимость по структуре.
Также продумать идею того, чтобы Заказчик, например, создает Этапы и хочет расписать все действия в нем, т.е. не хочет "заморачиваться", расписывая опции - в этом случае как-то сделать автоматическое добавление хотя бы одной опции (чтобы не ломать структуру подсчета). То есть он просто хочет "оценить" Этап в целом, без разделения на опции, возможно тогда сделать какое-то автоматическое добавление Опции с расценкой, которую он укажет в Этапе (тоже поле для стоимости указать) ? Как тут лучше сделать? К тому же если Заказчик будет делать только Заказ и не будет иметь желания расписывать Этапы и Опции. То есть у него по сути в Заказе будет только 1 Этап и 1 Опция - заказчик пожелает указать цену в самом Заказе. Как лучше оформить такой заказ - автоматически в окне добавления Заказа чтобы возникла вложенная форма Этапа и в ней вложенная форма Опции (универсальные заполнители полей) ? Продумать эффективный функционал мультиформ, при необходимости.

Также предусмотреть для Опции (Этапа?) - параметры: Калькулируемая опция (если нужно сделать расчет стоимости) и Включена в цену (если не нужно выполнять расчет цены, просто чтобы опция присутствовала, но не участвовала в ценообразовании).

После добавления данных Заказ попадает в статус Новый. Всего должно быть такие статусы: Новый, Сбор ставок, На паузе, Сбор Завершен, Отменен.
При этом чтобы перевести на Сбор ставок, нужно, чтобы были добавлены хотя бы 1 Этап и 1 Опция (с учетом вышеуказанных особенностей). Как только Заказ идет в Сбор ставок, то Исполнители могут делать Ставки-предложения. Тут продумать, как лучше будет для Исполнителя, с учетом особенности структуры данные, делать Ставку. То есть, если сложный Заказ (несколько Этапов с Опциями), то по-сути Заказчик в таком Заказе хочет сделать разделение труда и предлагает Исполнителям делать Ставку на отдельный Этап (на Опцию не предусматривается делать Ставку, т.к. это составная часть Этапа). То есть Исполнители должны видеть Заказ и видеть какие там этапы есть и должна быть возможность сделать Ставку как на отдельный Этап, так и на Заказ в целом (то есть Исполнитель делает Ставки на каждый Этап одновременно). Кроме того, нужно, чтобы была возможность предлагать свои ценовые предложения в Ставке. То есть, например (по вышеуказанному примеру с Наполнением Интернет-магазина) - Заказчик Предлагает 2 доллара / 1000 символов, а Исполнитель хочет сделать свое предложение в Опции - 2,5 доллара / 1000 символов. В итоге нужно видеть как-то эту разницу в цене и стоимости визуально. То есть Заказчик (и Исполнитель тоже) на странице Заказа (со вложенными Этапами и Опциями) должен видеть цены Исполнителей и отклонения (функция анализа) от своей цены, для принятия или отклонения предложения Исполнителя.

Исполнитель после добавления ставки (Ставка имеет такие Статусы: Черновик, Отправлено, Отозвано, Утверждено, Отказано) - Может перевести Ставку в статус Отправлено (после чего не должен иметь возможности редактировать Ставку). Заказчик может перевести ставку в Утверждено или Отказано. Исполнитель после этого может Отозвать ставку.

Далее следует такая фаза работы. 

Заказчик на основе Заказа может формировать (добавлять) Рабочие Задания по Заказу (описание в целом находится в самом Заказе. Заказ - это ТЗ + Инструкции, то есть максимальная информация по особенностям выполнения хранится там) . Это некий связной/распределительный элемент, который служит для постановки периодических/повторяющихся/однотипных задач в соответствии с ТЗ в Заказе. Также в Рабочее Задание автоматически формируются Рабочие Этапы (дублируются и связываются с Этапами в Заказе, чтобы можно было отслеживать к какому Этапу принадлежит Рабочий Этап). Далее Заказчик может назначать в Рабочие Этапы Утвержденных Исполнителей - на каждый Рабочий Этап можно назначить только одного утвержденного Исполнителя.


Заказчик добавляет новую структурную единицу - Рабочие Позиции. Они напрямую связаны с Заказом (то есть при ознакомлении с Заказом, Исполнители могут видеть наличие таких позиций). Рабочие позиции - это по-сути "подзадачи", по которым проводится работа согласно Заказа и Рабочих Заданий. Например, Если мы говорим о наполнении Интернет-магазина из примера выше, то каждой такой Рабочей Позицией может служить отдельная карточка товара в Интернет-магазине. То есть Заказчик сразу может добавить Рабочие позиции в Заказ (например, 100 штук), а далее постановкой Рабочих Заданий - проводить распределение работы, добавляя, например, 4 Рабочих задания и подключая к каждому по 25 Рабочих позиций. То есть Рабочие Позиции поключаются все к Заказу и потом в ходе добавления Рабочего Задания - можно выбрать (возможно чекбоксами - подумать удобную реализацию) нужные Рабочие Позиции и подключить к текущему рабочему Заданию.

Статусы Рабочего Задания (также как и Рабочей Позиции и Рабочие Этапа Позиции) такие: Новое, В работе, Проверка, Исправление, Завершено, Отменено.

Процесс работы - Исполнитель получает в работу Назначенное Рабочее Задание с Подключенными Рабочими Позициями и выполняет работу над каждой Рабочей Позицией. В момент постановки Рабочего Задания (в момент перевода на статус В работе) - в Рабочую Позицию добавляются (дублируются идентично) - Рабочие Этапы Позиции (автоматически связываются с соответствующим Рабочим Этапом из Рабочего Задания и Этапом из Заказа) и Рабочие Опции Этапа Позиции (тут должна быть связь с Опциями из Этапов Заказа). Это нужно для отметки фактической работы в Опциях/Этапах. То есть Исполнитель "отчитывается" - путем перевода на статус Проверка текущей Рабочей Позиции и заполнения полей Опции (например, если есть количество символов плановое в текущей Позиции = 2500, то нужно ввести фактическое значение Исполнителем в специальное/другое поле для этого). Примечание*** в Рабочих Опциях и Рабочих Этапах может быть Плановые объемы/стоимость и фактические - те, что Исполнитель зафиксировал в каждой отдельной Рабочей Позиции. Таким образом, для Исполнителя основной рабочей и отчетной единицей является Рабочая Позиция, потому как он работает по своему Этапу и отмечает работу в своей Опции. Мы понимаем, что в каждой Рабочей Позиции работу выполнять могут разные Исполнители, в зависимости от назначения по Заказу / Рабочему Заданию.

В Итоге, Заказчик может отправить Позицию (если только 1 Этап и только 1 Опция) в целом на Исправление, Завершение, Отмену. Или если над Рабочей Позицией трудятся несколько Исполнителей - то каждый Рабочий Этап Позиции меняет статус и "закрывается" работа.

Также нужно продумать вариант работы с Этапами - Параллельный и Последовательный. Суть в том, чтобы можно было или одновременно работать с Рабочими Этапами Исполнителю, или чтобы Исполнитель начинал свой Рабочий Этап в Рабочей Позиции только тогда, когда будет завершен "предыдущий" (подумать как сделать цепочку-связь Этапов работы). Также Этапы можно будет выводить горизонтальным списком (Заказчик может для них придумать цветовую гамму, чтобы визуально отображать) - то есть Этапы - это некие пользовательские "статусы" в Задании, которые сменяются в ходе работы. Тут продумать возможную визуализацию и логику.

Также продумать автоматическое "завершение" Рабочей Позиции и далее - Рабочего задания, после закрытия последнего Рабочего Этапа Позиции. С подтверждением. Рабочие Позиции и Рабочие Задания должны автоматически менять Статусы только Заказчиком (например, когда он Завершает или Отменяет). Исполнитель отвечает только за свою работу в Рабочем Этапе. *** Тут продумать еще логику процессов работы - может переводить тоже Позиции в Проверку (но кто из Исполнителей будет переводить в такой статус Позицию, если Исполнителей несколько и они работают каждый в своем Рабочем Этапе Позиции? Кто будет "ответственным" за целую Позицию и Рабочее задание? Как-то автоматизировать?)

Финансовые взаимоотношения между Заказчиком и Исполнителем. 

Продумать внутренний баланс, валюту. Валюта должна быть назначена на каждый отдельный Проект и все Заказы, Задания, Позиции, Опции - должны вестись в валюте Проекта. Валюту назначает Заказчик.
Далее нужно чтобы в момент фиксации Заказчиком статуса Рабочего Этапа Позиции = Завершено, автоматически производилось начисление внутренней оплаты на баланс Исполнителя. Кроме того, продумать варианты "начисления" за выполненную работу - За Рабочий Этап Позиции / За Рабочий Этап Рабочего задания в целом (то есть, текущим Исполнителем должны будут обработаны все Рабочие Позиции по своему Рабочему этапу, и как только статус Рабочего этапа Рабочего задания будет = Завершено, то только в этом случае в Баланс Исполнителя будет насчитана сумма по фактическому выполнению, согласно расценок и расчетов.). Продумать логику начисления.

Далее продумать движение финансов (пока в ручном виде) - например, Исполнителю начислена какая-то сумма по его Рабочим заданиям и он хочет произвести взаиморасчет с Заказчиком - для этого он может например, выбрать как отдельные Рабочие Этапы Позиции (которые приняты Заказчиком), так и выбрать например, Рабочее задание, которое выполнено, на его основе сформировать счет для Заказчика (также привязывать это задание к счету, возможно сделать доп. статус типа "факт оплаты" в Рабочем Задании, чтобы фиксировать оплату по нему вместе с оплатой Счета). После формирования счета в профиле Заказчика (и Исполнителя) появляется данный счет на оплату. После "физической" оплаты, Заказчик делает отметку об оплате Счета, исполнитель видит и делает подтверждение оплаты счета Заказчиком, счет "закрывается".

Работа в Проекте.

Тут продумать как добавлять Исполнителей в Проект, возможно, просто визуальное отображение "утвержденных" в Этапе / Заказе Исполнителей. Также предусмотреть возможность поиска Заказов по критериям отбора для Исполнителей (например, они заполняют в своих Профилях категории, разделы и в фильтрах на странице Заказов можно применить свои параметры). Аналогично - для Заказчика, если он ищет подходящих Исполнителей (должен быть выбор нескольких), то может предложить им индивидуальный Заказ, где Исполнители могут сделать ставки, в зависимости от структуры Этапов.

Коммуникации.

Придумать отдельную сущность, для оповещений, коммуникации, которая будет привязываться ко всем сущностям, где Исполнитель и Заказчик могут общаться. Что-то в виде внутреннего чата с привязкой к конкретной "записи", где ведется общение. Например, у Исполнителя возник вопрос по какой-то Рабочей Позиции / Рабочему Этапу - он в чате задает вопрос и ему автоматически подсвечивается эта Позиция/Этап, он может выбрать к чему относится его комментарий. Или Заказчик отправляет Рабочий Этап Позиции на Исправление и может в коммуникации указать Причину. Тут продумать эффективную логику коммуникации, чтобы данная сущность была везде.


Роли.

На текущий момент: Заказчик, Исполнитель, Администратор платформы, Модератор платформы. В дальнейшем возможны структурные доступы, если у Заказчика будут свои сотрудники и у Исполнителя будут свои сотрудники.

Заказчик и Исполнитель должны иметь возможность зарегистрироваться на платформе и иметь доступы только в зависимости от своих ролей (продумать к каким сущностям и в каких статусах могут иметь доступы). Администратор платформы - это по-сути владелец платформы, он регистрируется только 1 раз и может только менять свои данные. На платформе не может быть более 1 администратора. Администратор имеет доступ ко всем настройкам платформы, финансовым модулям (когда будет подключена монетизация платформы).
Модератор имеет доступы как Администратор, кроме финансовых и каких-то "критических" доступов.

Монетизация.

На текущую версию сделать черновой вариант "ежемесячной оплаты". Вносится на балансы Заказчиков и Исполнителей вручную Администратором платформы определенная сумма через специальный журнал оплат, с типами оплаты (банк, карта, криптовалюта и т.п.). Балансы пользователей и платформы - вести и приводить в базовую валюту USD. Валюты взаиморасчетов между Заказчиком и Исполнителем - сделать также возможность приводить и пересчитывать в базовую валюту платформы. Т.е. чтобы например у Заказчика / Исполнителя были отображены суммы (согласно проектов) на балансе в валютах проектов (какие на текущий момент подсчитаны) и пересчитаны в Базовую валюту платформы. Курсы можно добавлять для каждой зарегистрированной валюты в специальной сущности Валют. Валюты также добавляет администратор платформы.

Дизайн

Современный минималистический дизайн в строгом стиле со скругленными краями (можно за основу взять дизайн Gmail или Google Docs) - в виде админ-панели с левым фиксированным боковым меню, верхним фиксированным хедером и правой боковой фиксированной панелью коммуникаций/сообщений/информации. Базовый цвет - "приглушенный фиолетовый, неяркий" оттенок. Меньше очерченных границ блоков контента. Границы должны быть отделены по большей мере цветовыми бэкграундами, а не тонкими границами. Но предусмотреть так, чтобы не было неэстетично, в отдельных моментах тонкие поля границ (бордеры) должны присутствовать, чтобы отделить контент между собой. Образец одной из страниц для визуального представления - во вложении. Вот еще ниже ориентировочное описание

### Overall Theme
- **Color Scheme:** Muted purple as the primary color, with white background and subtle gray accents
- **Typography:** Clean, modern sans-serif fonts (like Roboto or Inter)
- **Layout:** Three-panel layout with:
  - Left fixed sidebar for navigation
  - Main content area in the center
  - Right fixed sidebar for notifications/communications
- **Components:** Rounded corners on UI elements, minimal borders, color differentiation for sections
- **Spacing:** Generous whitespace for readability


Должна быть авторизация и интерфейсы в зависимости от ролей.

Роли: Заказчик, Исполнитель и Администратор (полный доступ ко всем интерфейсам всех ролей и дополнительные привилегии в настройках, управлении пользователями и т.п.)
  