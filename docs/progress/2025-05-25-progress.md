# Отчет о прогрессе - 25 мая 2025

## Реализация функциональности выбора валюты в проектах

### Общая информация
- **Дата:** 25 мая 2025
- **Компонент:** Проекты (Projects)
- **Тип задачи:** Доработка функциональности, исправление ошибок

### Описание изменений

#### Реализованная функциональность
1. **Корректное отображение валюты**:
   - Исправлено отображение валюты в списке проектов (теперь показывается ISO-код валюты)
   - Обновлен формат отображения бюджета на странице деталей проекта (формат "123 USD" вместо "123 $")
   - Исправлено форматирование бюджета в карточках проектов

2. **Исправления в формах**:
   - Исправлена схема валидации полей `currency` и `status` в форме редактирования проекта
   - Устранена ошибка "Expected string, received number" при выборе валюты и статуса
   - Оптимизирована работа компонентов выбора значений из справочников

3. **Работа с API**:
   - Добавлена загрузка данных о валютах в API-эндпоинт для получения списка проектов
   - Обеспечена корректная передача данных о валюте между сервером и клиентом

#### Технические детали
- **Изменения в API**: В модель `Project` добавлено поле `currencyDetails` с информацией о валюте
- **Типизация**: Обновлены типы для корректной работы с полями валюты (изменены с `string` на `number`)
- **Форматирование**: Изменен формат отображения валюты в Intl.NumberFormat с использованием декоративного стиля

### Затронутые файлы
- `src/app/(app)/projects/[projectId]/project-details-tabs.tsx`
- `src/app/(app)/projects/[projectId]/edit/page.tsx`
- `src/app/(app)/projects/page.tsx`
- `src/app/api/projects/route.ts`
- `src/app/api/projects/[projectId]/route.ts`

### Результаты
- Пользователи теперь могут корректно выбирать валюту для проектов
- Валюта отображается в унифицированном формате во всех частях интерфейса
- Устранены ошибки валидации при редактировании проекта

### Дальнейшие шаги
- Рассмотреть добавление функциональности конвертации бюджетов между разными валютами
- Реализовать фильтрацию проектов по валюте
- Обновить аналогичную функциональность для Заказов (Orders)
