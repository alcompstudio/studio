# Руководство для ИИ-агентов по работе с проектом "Studio Project (Уточнить Название)"

Добро пожаловать, коллега-агент! Это руководство поможет тебе быстро освоиться в проекте и эффективно взаимодействовать с его кодовой базой и документацией.

## 1. Общее представление о проекте

Прежде всего, ознакомься с основными документами, чтобы понять цели, архитектуру и текущее состояние проекта:

1.  **`docs/README.md`**: Содержит общее описание проекта, его цели, технологический стек, инструкции по установке и запуску, а также структуру репозитория. Это твоя отправная точка.
2.  **`docs/architecture.md`**: Описывает архитектуру проекта, основные компоненты, их взаимодействие и потоки данных. Поможет понять, как устроена система.
3.  **`project-metadata.yaml`**: Содержит структурированные метаданные о проекте, его компонентах и интеграциях. Полезен для быстрого получения информации о частях системы.
4.  **Последний файл в `docs/progress/`**: Журнал прогресса разработки. Посмотри последнюю запись, чтобы быть в курсе недавних изменений и текущих задач.

## 2. Как работать с документацией

Документация – твой главный помощник. Она разделена на несколько ключевых секций:

-   **`docs/components/`**: Документация по UI и логическим компонентам. Если тебе нужно понять, как работает конкретный компонент, или создать новый, начни отсюда.
    -   Каждый компонент (или группа компонентов) имеет свой `.md` файл.
    -   Рядом с компонентами в `src/` или в централизованном хранилище (уточнить по `project-metadata.yaml`) могут находиться `.metadata.json` файлы с детальной информацией о пропсах, зависимостях и т.д.
-   **`docs/api/`**: (Будет заполняться) Документация по API эндпоинтам.
-   **`docs/decisions/`**: Архитектурные решения (ADR). Важно ознакомиться с ними, чтобы понимать, почему были приняты те или иные архитектурные решения. Используй `YYYYMMDD-template-adr.md` для документирования новых решений.
-   **`docs/progress/`**: Журнал прогресса. После выполнения значимых задач, обновляй или создавай новую запись.

**Ключевые файлы для ИИ-контекста:**
VS Code настроен так, чтобы автоматически подгружать в контекст ИИ следующие пути (см. `.vscode/settings.json`):
-   `ai.knowledgeBase.paths`: `./docs/`, `./.ai/knowledge-base/`
-   `ai.context.priorityPaths`: `./docs/README.md`, `./docs/architecture.md`, `./project-metadata.yaml`

## 3. Порядок ознакомления с кодом при выполнении задачи

1.  **Пойми задачу**: Уточни требования, если что-то неясно.
2.  **Найди релевантную документацию**: Используй `docs/README.md`, `docs/architecture.md` и `project-metadata.yaml` для навигации.
3.  **Изучи существующий код**: Если задача связана с модификацией, найди соответствующие компоненты, страницы или API маршруты. Обрати внимание на комментарии в коде и связанные файлы документации/метаданных.
4.  **Используй поиск**: Встроенный поиск VS Code поможет найти упоминания сущностей по всему проекту.

## 4. Как обновлять базу знаний (документацию)

Твоя задача – не только писать код, но и поддерживать документацию в актуальном состоянии.

-   **При создании нового компонента/модуля/API**:
    -   Создай соответствующий `.md` файл в `docs/components/`, `docs/api/` и т.д.
    -   Создай (или обнови) файл метаданных `.json` для компонента.
    -   Обнови `project-metadata.yaml`, если добавляется новый крупный компонент или интеграция.
-   **При изменении существующего функционала**:
    -   Обнови соответствующую документацию и метаданные.
    -   Если изменение затрагивает архитектуру, создай новый ADR в `docs/decisions/`.
-   **После завершения блока работ**:
    -   Запусти скрипт `git-progress-generator.js` (или сделай это вручную), чтобы обновить `docs/progress/`.
-   **Регулярно запускай валидатор**: `docs-validator.js` поможет найти устаревшие или некорректные части документации.

## 5. Как использовать и запускать автоматизационные скрипты

Скрипты для поддержки документации находятся в `scripts/docs/`.

-   **`git-progress-generator.js`**:
    -   **Назначение**: Генерирует отчет о прогрессе на основе коммитов Git.
    -   **Запуск**: `node scripts/docs/git-progress-generator.js [since_date]`
        -   `[since_date]` (опционально): дата или период, например, `1.week.ago`, `2023-10-26`. По умолчанию: `1.week.ago`.
    -   **Результат**: Создает/обновляет `.md` файл в `docs/progress/` с именем текущей даты.
-   **`code-structure-extractor.js`**:
    -   **Назначение**: Анализирует исходный код в `src/`, извлекает информацию о компонентах, функциях, их параметрах и комментариях. Генерирует/обновляет Markdown документацию в `docs/components/` и, опционально, JSON метаданные.
    -   **Запуск**: `node scripts/docs/code-structure-extractor.js`
    -   **Результат**: Обновленные/созданные файлы документации и метаданных.
    -   **Внимание**: Скрипт может требовать доработки для более точного парсинга и поддержки всех конструкций кода. Проверяй сгенерированную документацию.
-   **`docs-validator.js`**:
    -   **Назначение**: Проверяет документацию на наличие проблем: незаполненные секции, "мертвые" ссылки, несоответствия.
    -   **Запуск**: `node scripts/docs/docs-validator.js`
    -   **Результат**: Выводит список проблем в консоль и создает/обновляет `docs/validation_report.md`.

**Для удобства в `.vscode/settings.json` добавлен профиль терминала "Node CLI for Docs", который сразу открывает консоль в директории `scripts/docs`.**

## 6. Рекомендации по документированию нового кода

-   **Пиши JSDoc/TSDoc комментарии**: Для функций, классов, методов, компонентов и их пропсов. Скрипт `code-structure-extractor.js` пытается их использовать.
    ```typescript
    /**
     * Описание функции/компонента.
     * @param {string} param1 - Описание параметра 1.
     * @param {MyType} param2 - Описание параметра 2.
     * @returns {Promise<ResultType>} Описание того, что возвращается.
     */
    export const myCoolFunction = async (param1: string, param2: MyType): Promise<ResultType> => {
      // ...
    };
    ```
-   **Соблюдай конвенции именования**: Это упрощает понимание и автоматическую обработку.
-   **Обновляй метаданные**: Если добавляешь компонент, не забудь про его `.metadata.json`.
-   **Думай о будущем**: Как другой агент (или ты сам через месяц) поймет этот код?

## 7. Логирование сессий

Логи твоих сессий сохраняются в директории `./.ai/sessions/`. Это может быть полезно для анализа предыдущих шагов или восстановления контекста.

## 8. Конфигурация ИИ

Общие настройки для ИИ-агентов могут находиться в `./.ai/config.yaml`. Пока этот файл пуст, но может быть использован в будущем.

---

Удачи в работе над проектом! Если возникнут вопросы по структуре или процессам, обращайся к существующей документации или, если ответа нет, инициируй обсуждение для ее улучшения.
